<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>보석동굴 그림책 탐험대</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #e6f4f1;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 700px;
      margin: auto;
      background: #ffffff;
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }
    h1, h2 {
      color: #009688;
    }
    .question {
      font-size: 20px;
      margin-bottom: 10px;
    }
    .textarea {
      width: 100%;
      height: 100px;
      font-size: 16px;
      padding: 10px;
      margin-bottom: 15px;
      border: 2px solid #b2dfdb;
      border-radius: 8px;
      resize: none;
    }
    .button-row {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }
    button {
      background-color: #26a69a;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }
    button:disabled {
      background-color: #a7dcd7;
      cursor: not-allowed;
    }
    .feedback {
      margin-top: 10px;
      color: #388e3c;
      font-weight: bold;
    }
    .progress-bar {
      height: 10px;
      background-color: #b2dfdb;
      border-radius: 5px;
      overflow: hidden;
      margin: 20px 0;
    }
    .progress-fill {
      height: 100%;
      background-color: #26a69a;
      transition: width 0.3s ease;
    }
  </style>
</head>
<body>
  <div class="container" id="app">
    <h1>💎 &lt;보석동굴&gt; 그림책 탐험대에 오신 걸 환영해요!</h1>
    <p>『보석동굴』 속 민이처럼, 지금부터 너의 마음을 탐험해 보아요.</p>
    <ul>
      <li>이야기 속 주인공처럼, 너의 마음도 아주 소중하단다.</li>
      <li>총 20개의 질문이 나와. 차근차근 천천히 생각하면서 답해보자.</li>
      <li>모든 질문을 다 마치면, 너만의 멋진 💎보석 답변💎이 완성돼!</li>
      <li>혹시 중간에 쉬고 싶다면? 언제든지 다시 돌아올 수 있어~</li>
    </ul>
    <button onclick="start()">탐험 시작하기</button>
  </div>

  <script>
    const questions = [
      "민이는 왜 이름 스티커를 많이 붙이게 되었나요?",
      "민이가 처음에 어떤 기분이었는지 이야기해 보세요.",
      "동굴 안에서 민이가 만난 괴물은 어떤 모습이었나요?",
      "민이가 세잎 클로버를 처음 본 장면을 떠올려보세요. 어떤 일이 있었나요?",
      "민이는 어떤 말들을 들으면서 힘을 얻었나요?",
      "민이가 슬퍼했던 이유는 무엇이라고 생각하나요?",
      "누군가가 나에게 상처 주는 말을 했을 때, 너는 어떻게 느꼈니?",
      "민이가 용기를 낼 수 있었던 이유는 무엇이라고 생각하나요?",
      "너도 '보석' 같은 마음을 가지고 있다고 생각하니? 어떤 보석이 있을까?",
      "사람들에게 이름 스티커를 붙이면 안 되는 이유는 무엇일까요?",
      "동굴 속 보석은 어떤 것을 상징한다고 생각하나요?",
      "만약 너라면, 민이처럼 용기를 낼 수 있었을까요? 왜 그렇게 생각했나요?",
      "너의 ‘보석동굴’ 안에는 어떤 보석들이 숨어 있을까요?",
      "누군가 힘들어할 때, 어떤 따뜻한 말을 해줄 수 있을까요?",
      "나는 누군가에게 상처 주는 말을 한 적이 있을까?",
      "‘사랑해’, ‘괜찮아’, ‘고마워’ 같은 말은 왜 소중할까요?",
      "내가 오늘 깨우고 싶은 보석 3가지를 골라보세요.",
      "‘작은 나’와 ‘큰 나’는 어떻게 다를까요?",
      "나는 어떤 상황에서 나의 보석(용기, 배려 등)을 잘 쓰는 것 같나요?",
      "앞으로 나는 어떻게 ‘큰 나’를 키워갈 수 있을까요?",
    ];

    const feedbackList = [
      "멋진 생각이에요! 민이의 마음을 잘 이해했어요.",
      "좋은 표현이에요! 당신의 보석 같은 답변이에요.",
      "이야기를 잘 풀어냈네요. 감정이 잘 담겼어요.",
      "훌륭한 답이에요! 진심이 느껴져요.",
      "정말 따뜻한 말이에요. 다른 친구들도 힘을 얻겠어요.",
    ];

    let current = 0;
    const answers = Array(questions.length).fill("");

    function start() {
      showQuestion();
    }

    function showQuestion() {
      const app = document.getElementById("app");
      app.innerHTML = `
        <h2>💎 보석마음 탐험대</h2>
        <p><strong>『보석동굴』 질문을 따라 떠나는 마음 탐험 이야기</strong></p>
        <div class="progress-bar"><div class="progress-fill" style="width:${((current + 1) / questions.length) * 100}%"></div></div>
        <div class="question">질문 ${current + 1} / ${questions.length}<br>${questions[current]}</div>
        <textarea class="textarea" id="answer">${answers[current]}</textarea>
        <div class="feedback" id="feedback"></div>
        <div class="button-row">
          <button onclick="prev()" ${current === 0 ? "disabled" : ""}>이전</button>
          <button onclick="next()">${current === questions.length - 1 ? "완료" : "다음"}</button>
        </div>
      `;
    }

    function next() {
      answers[current] = document.getElementById("answer").value;
      document.getElementById("feedback").innerText = feedbackList[Math.floor(Math.random() * feedbackList.length)];
      if (current < questions.length - 1) {
        current++;
        showQuestion();
      } else {
        showSummary();
      }
    }

    function prev() {
      answers[current] = document.getElementById("answer").value;
      if (current > 0) {
        current--;
        showQuestion();
      }
    }

    function showSummary() {
      const app = document.getElementById("app");
      app.innerHTML = "<h2>🎁 너의 보석 답변</h2>";
      answers.forEach((ans, i) => {
        const q = questions[i];
        app.innerHTML += `<p><strong>Q${i + 1}. ${q}</strong><br/>${ans || "(응답 없음)"}</p><hr/>`;
      });
    }
  </script>
</body>
</html>
